import{d as e,B as s,c as o,a,e as l,k as t,h as r,f as n,u as d,t as i,i as c,w as f,b as u,l as p,j as v,n as b,a1 as g,r as y,T as m,J as h,x as C,D as k,K as R,p as w}from"./index-B6LbRxzB.js";import{u as $,E as _,a as A}from"./index-58WTuj8x.js";import{F as x,E as F,a as E}from"./index-Cd2l2kYr.js";import{s as I,E as j,_ as L,aV as M,a7 as P,a as T,w as B}from"./base-BBwbuMrY.js";import{d as D,a as q,b as z,c as S,u as K}from"./overlay-DME-vEE1.js";import{c as G}from"./refs-BFRRN0-g.js";const J=Symbol("dialogInjectionKey"),O=e({name:"ElDialogContent"});var U=L(e({...O,props:D,emits:q,setup(e,{expose:g}){const y=e,{t:m}=I(),{Close:h}=M,{dialogRef:C,headerRef:k,bodyId:R,ns:w,style:_}=s(J),{focusTrapRef:A}=s(x),F=o((()=>[w.b(),w.is("fullscreen",y.fullscreen),w.is("draggable",y.draggable),w.is("align-center",y.alignCenter),{[w.m("center")]:y.center}])),E=G(A,C),L=o((()=>y.draggable)),P=o((()=>y.overflow)),{resetPosition:T}=$(C,k,L,P);return g({resetPosition:T}),(e,s)=>(a(),l("div",{ref:d(E),class:n(d(F)),style:b(d(_)),tabindex:"-1"},[t("header",{ref_key:"headerRef",ref:k,class:n([d(w).e("header"),e.headerClass,{"show-close":e.showClose}])},[r(e.$slots,"header",{},(()=>[t("span",{role:"heading","aria-level":e.ariaLevel,class:n(d(w).e("title"))},i(e.title),11,["aria-level"])])),e.showClose?(a(),l("button",{key:0,"aria-label":d(m)("el.dialog.close"),class:n(d(w).e("headerbtn")),type:"button",onClick:s=>e.$emit("close")},[c(d(j),{class:n(d(w).e("close"))},{default:f((()=>[(a(),u(p(e.closeIcon||d(h))))])),_:1},8,["class"])],10,["aria-label","onClick"])):v("v-if",!0)],2),t("div",{id:d(R),class:n([d(w).e("body"),e.bodyClass])},[r(e.$slots,"default")],10,["id"]),e.$slots.footer?(a(),l("footer",{key:0,class:n([d(w).e("footer"),e.footerClass])},[r(e.$slots,"footer")],2)):v("v-if",!0)],6))}}),[["__file","dialog-content.vue"]]);const V=e({name:"ElDialog",inheritAttrs:!1});const H=B(L(e({...V,props:z,emits:S,setup(e,{expose:s}){const l=e,i=g();P({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},o((()=>!!i.title)));const p=T("dialog"),$=y(),x=y(),I=y(),{visible:j,titleId:L,bodyId:M,style:B,overlayDialogStyle:D,rendered:q,zIndex:z,afterEnter:S,afterLeave:G,beforeLeave:O,handleClose:V,onModalClick:H,onOpenAutoFocus:N,onCloseAutoFocus:Q,onCloseRequested:W,onFocusoutPrevented:X}=K(l,$);w(J,{dialogRef:$,headerRef:x,bodyId:M,ns:p,rendered:q,style:B});const Y=A(H),Z=o((()=>l.draggable&&!l.fullscreen));return s({visible:j,dialogContentRef:I,resetPosition:()=>{var e;null==(e=I.value)||e.resetPosition()}}),(e,s)=>(a(),u(d(E),{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},{default:f((()=>[c(m,{name:"dialog-fade",onAfterEnter:d(S),onAfterLeave:d(G),onBeforeLeave:d(O),persisted:""},{default:f((()=>[h(c(d(_),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":d(z)},{default:f((()=>[t("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:d(L),"aria-describedby":d(M),class:n(`${d(p).namespace.value}-overlay-dialog`),style:b(d(D)),onClick:d(Y).onClick,onMousedown:d(Y).onMousedown,onMouseup:d(Y).onMouseup},[c(d(F),{loop:"",trapped:d(j),"focus-start-el":"container",onFocusAfterTrapped:d(N),onFocusAfterReleased:d(Q),onFocusoutPrevented:d(X),onReleaseRequested:d(W)},{default:f((()=>[d(q)?(a(),u(U,C({key:0,ref_key:"dialogContentRef",ref:I},e.$attrs,{center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:d(Z),overflow:e.overflow,fullscreen:e.fullscreen,"header-class":e.headerClass,"body-class":e.bodyClass,"footer-class":e.footerClass,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:d(V)}),k({header:f((()=>[e.$slots.title?r(e.$slots,"title",{key:1}):r(e.$slots,"header",{key:0,close:d(V),titleId:d(L),titleClass:d(p).e("title")})])),default:f((()=>[r(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:f((()=>[r(e.$slots,"footer")]))}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):v("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])])),_:3},8,["mask","overlay-class","z-index"]),[[R,d(j)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])])),_:3},8,["to","disabled"]))}}),[["__file","dialog.vue"]]));export{H as E};
