const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/base-editor-B3ea0Tqk.js","assets/index-B6LbRxzB.js","assets/index-Bb2aVcxt.css","assets/index-CfLSiDir.js","assets/base-editor-BkcI2HV0.css","assets/vuepress-DnEgGPax.css","assets/vuepress-BgxP-_Z3.js","assets/prism-CfAHqxFg.js"])))=>i.map(i=>d[i]);
import{$ as e,X as l,_ as a,a as o,e as t,u,J as d,b as i,w as m,N as s,i as n,j as f,P as r,Q as p,k as c}from"./index-B6LbRxzB.js";import{H as V}from"./base-BBwbuMrY.js";/* empty css                */import{Z as _,a as S}from"./ZFormItem-DqyrjkCI.js";/* empty css               */import"./tooltip-l0sNRNKZ.js";import{E as b}from"./popper-CF2HgFfE.js";/* empty css              */import{E as j}from"./input-number-DhTrr9r_.js";import{E as x}from"./switch-DP8XpaVB.js";import{E as y}from"./radio-CZQuNt_K.js";import{l as v,c as h}from"./admin-setting-DFIt9dmd.js";import{c as U}from"./common-B1W1rpUW.js";import{E as O}from"./request-B2kMKzxx.js";import{b as g}from"./route-block-B_A1xBdJ.js";import{_ as w}from"./plugin-vue_export-helper-BCo6x5W8.js";import{r as E}from"./CheckBadgeIcon-Cn-PgIwF.js";import{E as k}from"./index-KUFYR68Z.js";import{v as T}from"./directive-c3Zp8yaa.js";import"./index-Cd2l2kYr.js";import"./event-BwRzfsZt.js";import"./index-Bs7CflaZ.js";import"./validator-EOLRKd5b.js";const M=e=>(r("data-v-d7f87576"),e=e(),p(),e),C=M((()=>c("div",null,[s(" OnlyOffice 服务地址，默认的公共服务不保证稳定性，推荐自行部署 OnlyOffice 服务. 部署教程："),c("a",{class:"link",href:"https://docs.zfile.vip/advanced#only-office",target:"_blank"},"https://docs.zfile.vip/advanced#only-office")],-1))),I=M((()=>c("div",null," 提示：进行预览的文件需 OnlyOffice 服务器可访问，如您的 OnlyOffice 在公网，要预览的文件在内网，则无法正常预览。 ",-1))),z=M((()=>c("div",null," 提示：根据浏览器安全规范，如您的 ZFile 是 https 协议的，OnlyOffice 服务也必须是 https 协议的，否则无法正常使用。 ",-1))),A=M((()=>c("i",{class:"el-icon-info zfile-info-tooltip"},null,-1))),P=M((()=>c("i",{class:"el-icon-info zfile-info-tooltip"},null,-1))),D={__name:"view-setting",setup(r){const p=l((()=>new Promise(((e,l)=>{!async function(){try{const l=await a((()=>import("./base-editor-B3ea0Tqk.js").then((e=>e.b))),__vite__mapDeps([0,1,2,3]));await a((()=>Promise.resolve({})),__vite__mapDeps([4])),await a((()=>Promise.resolve({})),__vite__mapDeps([5]));const o=await a((()=>import("./vuepress-BgxP-_Z3.js").then((e=>e.v))),__vite__mapDeps([6,1,2])),t=await a((()=>import("./prism-CfAHqxFg.js").then((e=>e.p))),__vite__mapDeps([7,1,2]));l.use(o,{Prism:t}),e(l)}catch(o){l(o)}}()})))),{data:c,saveData:g,saveLoading:w}=function(){const{data:l,loading:a,reload:o}=e(v,{formatResult:e=>{let l=e.data;return l.customVideoSuffix||(l.customVideoSuffix=U.constant.fileTypeMap.video.join(",")),l.customImageSuffix||(l.customImageSuffix=U.constant.fileTypeMap.image.join(",")),l.customAudioSuffix||(l.customAudioSuffix=U.constant.fileTypeMap.audio.join(",")),l.customTextSuffix||(l.customTextSuffix=U.constant.fileTypeMap.text.join(",")),l.announcement||(l.announcement=""),l}}),{loading:t,run:u}=e(h,{manual:!0,onSuccess(){O({message:"保存成功",type:"success"})}});return{data:l,dataLoading:a,reload:o,saveData:()=>{u(l.value)},saveLoading:t}}();return(e,l)=>{const a=y,r=_,v=x,h=j,U=k,O=b,M=V,D=S,L=T;return o(),t("div",null,[u(c)?d((o(),i(D,{key:0,model:u(c),"element-loading-text":"保存中..."},{"form-title":m((()=>[s(" 显示信息 ")])),"form-sub-title":m((()=>[s(" 此页面显示网站前台的显示相关的信息 ")])),footer:m((()=>[n(M,{type:"primary",size:"default",icon:u(E),onClick:u(g)},{default:m((()=>[s("保存设置")])),_:1},8,["icon","onClick"])])),default:m((()=>[n(r,{label:"页面布局"},{default:m((()=>[n(a,{modelValue:u(c).layout,"onUpdate:modelValue":l[0]||(l[0]=e=>u(c).layout=e),label:"full"},{default:m((()=>[s("全屏")])),_:1},8,["modelValue"]),n(a,{modelValue:u(c).layout,"onUpdate:modelValue":l[1]||(l[1]=e=>u(c).layout=e),label:"center"},{default:m((()=>[s("居中")])),_:1},8,["modelValue"]),n(a,{modelValue:u(c).layout,"onUpdate:modelValue":l[2]||(l[2]=e=>u(c).layout=e),label:"card"},{default:m((()=>[s("卡片")])),_:1},8,["modelValue"])])),_:1}),n(r,{label:"根目录显示所有存储源"},{tips:m((()=>[s(" 根目录是否显示所有存储源, 如果为 true, 则根目录显示所有存储源列表, 如果为 false, 则会自动跳转到第一个存储源. ")])),default:m((()=>[n(v,{modelValue:u(c).rootShowStorage,"onUpdate:modelValue":l[3]||(l[3]=e=>u(c).rootShowStorage=e)},null,8,["modelValue"])])),_:1}),n(r,{label:"默认保存输入的文件夹密码"},{tips:m((()=>[s(" 可设置是否默认保存输入的文件夹密码, 如果为 true, 则下次进入文件夹时会自动使用上次输入的密码，无需再次输入. ")])),default:m((()=>[n(v,{modelValue:u(c).defaultSavePwd,"onUpdate:modelValue":l[4]||(l[4]=e=>u(c).defaultSavePwd=e)},null,8,["modelValue"])])),_:1}),n(r,{label:"文件操作习惯"},{tips:m((()=>[s(" 控制文件和文件夹的点击习惯, 单击/双击打开文件夹或预览文件 ")])),default:m((()=>[n(a,{modelValue:u(c).fileClickMode,"onUpdate:modelValue":l[5]||(l[5]=e=>u(c).fileClickMode=e),label:"click"},{default:m((()=>[s("单击进入")])),_:1},8,["modelValue"]),n(a,{modelValue:u(c).fileClickMode,"onUpdate:modelValue":l[6]||(l[6]=e=>u(c).fileClickMode=e),label:"dbclick"},{default:m((()=>[s("双击进入")])),_:1},8,["modelValue"])])),_:1}),n(r,{label:"默认最大显示文件数"},{tips:m((()=>[s(" 默认最大显示文件数, 用于控制文件夹中文件的显示数量，防止文件过多导致页面卡顿 ")])),default:m((()=>[n(h,{modelValue:u(c).maxShowSize,"onUpdate:modelValue":l[7]||(l[7]=e=>u(c).maxShowSize=e),min:1},null,8,["modelValue"])])),_:1}),n(r,{label:"每次加载更多文件数"},{tips:m((()=>[s(" 当想显示更多文件时，每次额外显示的文件数 ")])),default:m((()=>[n(h,{modelValue:u(c).loadMoreSize,"onUpdate:modelValue":l[8]||(l[8]=e=>u(c).loadMoreSize=e),min:1},null,8,["modelValue"])])),_:1}),n(r,{label:"默认排序字段"},{tips:m((()=>[s(" 默认排序方式, 用于控制文件夹中文件的显示顺序 ")])),default:m((()=>[n(a,{modelValue:u(c).defaultSortField,"onUpdate:modelValue":l[9]||(l[9]=e=>u(c).defaultSortField=e),label:"name"},{default:m((()=>[s("文件名")])),_:1},8,["modelValue"]),n(a,{modelValue:u(c).defaultSortField,"onUpdate:modelValue":l[10]||(l[10]=e=>u(c).defaultSortField=e),label:"size"},{default:m((()=>[s("文件大小")])),_:1},8,["modelValue"]),n(a,{modelValue:u(c).defaultSortField,"onUpdate:modelValue":l[11]||(l[11]=e=>u(c).defaultSortField=e),label:"time"},{default:m((()=>[s("修改时间")])),_:1},8,["modelValue"])])),_:1}),n(r,{label:"默认排序方式"},{tips:m((()=>[s(" 默认排序方式, 用于控制文件夹中文件的显示顺序 ")])),default:m((()=>[n(a,{modelValue:u(c).defaultSortOrder,"onUpdate:modelValue":l[12]||(l[12]=e=>u(c).defaultSortOrder=e),label:"asc"},{default:m((()=>[s("升序")])),_:1},8,["modelValue"]),n(a,{modelValue:u(c).defaultSortOrder,"onUpdate:modelValue":l[13]||(l[13]=e=>u(c).defaultSortOrder=e),label:"desc"},{default:m((()=>[s("降序")])),_:1},8,["modelValue"])])),_:1}),n(r,{label:"视频文件后缀"},{tips:m((()=>[s(" 自定义识别为视频格式的文件后缀，多个用逗号分开，如 'mp4,avi,mkv', 在此列表中的将调用播放器打开（能否播放要取决于浏览器是否支持，现代浏览器一般只支持封装格式为 h.264 (mp4) 的编码格式） ")])),default:m((()=>[n(U,{modelValue:u(c).customVideoSuffix,"onUpdate:modelValue":l[14]||(l[14]=e=>u(c).customVideoSuffix=e)},null,8,["modelValue"])])),_:1}),n(r,{label:"图像文件后缀"},{default:m((()=>[n(U,{modelValue:u(c).customImageSuffix,"onUpdate:modelValue":l[15]||(l[15]=e=>u(c).customImageSuffix=e)},null,8,["modelValue"])])),_:1}),n(r,{label:"音频文件后缀"},{default:m((()=>[n(U,{modelValue:u(c).customAudioSuffix,"onUpdate:modelValue":l[16]||(l[16]=e=>u(c).customAudioSuffix=e)},null,8,["modelValue"])])),_:1}),n(r,{label:"文本文件后缀"},{default:m((()=>[n(U,{modelValue:u(c).customTextSuffix,"onUpdate:modelValue":l[17]||(l[17]=e=>u(c).customTextSuffix=e)},null,8,["modelValue"])])),_:1}),n(r,{label:"OnlyOffice 服务地址"},{tips:m((()=>[C,I,z])),default:m((()=>[n(U,{modelValue:u(c).onlyOfficeUrl,"onUpdate:modelValue":l[18]||(l[18]=e=>u(c).onlyOfficeUrl=e)},null,8,["modelValue"])])),_:1}),n(r,{label:"显示文档区"},{default:m((()=>[n(v,{modelValue:u(c).showDocument,"onUpdate:modelValue":l[19]||(l[19]=e=>u(c).showDocument=e)},null,8,["modelValue"]),n(O,{placement:"right"},{content:m((()=>[s(" 在文件列表下，显示当前文件夹的目录文档 ")])),default:m((()=>[A])),_:1})])),_:1}),n(r,{label:"显示公告"},{default:m((()=>[n(v,{modelValue:u(c).showAnnouncement,"onUpdate:modelValue":l[20]||(l[20]=e=>u(c).showAnnouncement=e)},null,8,["modelValue"]),n(O,{placement:"right"},{content:m((()=>[s(" 网站顶部，显示公告内容，支持 HTML 语法 ")])),default:m((()=>[P])),_:1})])),_:1}),n(r,{label:"公告内容"},{tips:m((()=>[s(" 支持 Markdown 语法, 左右分栏, 所见即所得, 可以使用 HTML 语法 ")])),default:m((()=>[n(u(p),{modelValue:u(c).announcement,"onUpdate:modelValue":l[21]||(l[21]=e=>u(c).announcement=e),height:"400px"},null,8,["modelValue"])])),_:1}),n(r,{label:"自定义 CSS"},{tips:m((()=>[s(" 自定义 CSS 内容, 无须写 <style></style> 标签 ")])),default:m((()=>[n(U,{type:"textarea",autosize:{minRows:3},placeholder:"请输入自定义 CSS 内容",modelValue:u(c).customCss,"onUpdate:modelValue":l[22]||(l[22]=e=>u(c).customCss=e)},null,8,["modelValue"])])),_:1}),n(r,{label:"自定义 JS"},{tips:m((()=>[s(" 自定义 JS 脚本, <script><\/script> 可写可不写，会自动兼容. ")])),default:m((()=>[n(U,{type:"textarea",autosize:{minRows:3},placeholder:"请输入自定义 JS 内容",modelValue:u(c).customJs,"onUpdate:modelValue":l[23]||(l[23]=e=>u(c).customJs=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])),[[L,u(w)]]):f("",!0)])}}};"function"==typeof g&&g(D);const L=w(D,[["__scopeId","data-v-d7f87576"]]);export{L as default};
