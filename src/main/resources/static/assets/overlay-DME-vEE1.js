import{b as e,a3 as o,d as l,am as a,aH as n,aD as t,a$ as s,aa as u,b0 as r,b1 as c,ak as d}from"./base-BBwbuMrY.js";import{U as i}from"./event-BwRzfsZt.js";import{b as p}from"./index-58WTuj8x.js";import{i as f}from"./index-Cd2l2kYr.js";import{r as y,c as v,m,W as C,o as b,Z as g}from"./index-B6LbRxzB.js";const S=e({center:Boolean,alignCenter:Boolean,closeIcon:{type:o},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),B={close:()=>!0},x=e({...S,appendToBody:Boolean,appendTo:{type:l([String,Object]),default:"body"},beforeClose:{type:l(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),D={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[i]:e=>a(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},h=(e,o)=>{var l;const a=g().emit,{nextZIndex:S}=n();let B="";const x=t(),D=t(),h=y(!1),F=y(!1),I=y(!1),O=y(null!=(l=e.zIndex)?l:S());let A,j;const k=s("namespace",r),w=v((()=>{const o={},l=`--${k.value}-dialog`;return e.fullscreen||(e.top&&(o[`${l}-margin-top`]=e.top),e.width&&(o[`${l}-width`]=u(e.width))),o})),E=v((()=>e.alignCenter?{display:"flex"}:{}));function L(){null==j||j(),null==A||A(),e.openDelay&&e.openDelay>0?({stop:A}=c((()=>T()),e.openDelay)):T()}function z(){null==A||A(),null==j||j(),e.closeDelay&&e.closeDelay>0?({stop:j}=c((()=>$()),e.closeDelay)):$()}function N(){e.beforeClose?e.beforeClose((function(e){e||(F.value=!0,h.value=!1)})):z()}function T(){d&&(h.value=!0)}function $(){h.value=!1}return e.lockScroll&&p(h),m((()=>e.modelValue),(l=>{l?(F.value=!1,L(),I.value=!0,O.value=f(e.zIndex)?S():O.value++,C((()=>{a("open"),o.value&&(o.value.parentElement.scrollTop=0,o.value.parentElement.scrollLeft=0,o.value.scrollTop=0)}))):h.value&&z()})),m((()=>e.fullscreen),(e=>{o.value&&(e?(B=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=B)})),b((()=>{e.modelValue&&(h.value=!0,I.value=!0,L())})),{afterEnter:function(){a("opened")},afterLeave:function(){a("closed"),a(i,!1),e.destroyOnClose&&(I.value=!1)},beforeLeave:function(){a("close")},handleClose:N,onModalClick:function(){e.closeOnClickModal&&N()},close:z,doClose:$,onOpenAutoFocus:function(){a("openAutoFocus")},onCloseAutoFocus:function(){a("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&N()},onFocusoutPrevented:function(e){var o;"pointer"===(null==(o=e.detail)?void 0:o.focusReason)&&e.preventDefault()},titleId:x,bodyId:D,closed:F,style:w,overlayDialogStyle:E,rendered:I,visible:h,zIndex:O}};export{B as a,x as b,D as c,S as d,h as u};
