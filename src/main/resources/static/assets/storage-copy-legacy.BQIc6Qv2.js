System.register(["./admin-storage-legacy.RIDzcvG_.js","./index-legacy.DUvvBSvn.js","./request-legacy.-200HP3-.js"],(function(e,n){"use strict";var t,o,r,a,i;return{setters:[function(e){t=e.f,o=e.g},function(e){r=e.E,a=e.r},function(e){i=e.E}],execute:function(){e("u",(function(){var e=a(null);return{dialogVisible:l,openDialog:function(e){l.value=!0,n.fromId=e.id,n.toKey=e.key,n.toName=e.name},closeDialog:function(){l.value=!1},formData:n,rules:u,storageCopyFormRef:e,submitForm:function(t){s.value=!0,e.value.validate((function(e){e?o(n).then((function(e){i.success("复制成功"),l.value=!1,t("close")})).finally((function(){s.value=!1})):s.value=!1}))},saveLoading:s}}));var n=r({toName:"",toKey:"",fromId:null}),u={toName:[{required:!0,message:"请输入新存储源名称",trigger:"blur"}],toKey:[{required:!0,message:"请输入新存储源别名",trigger:"blur"},{validator:function(e,n,o){null!=n&&""!==n?["admin","file","login","install","s","onedrive","api","sharepoint","s3","webdav"].includes(n)?o(new Error("不可占用系统级名称，请修改。")):/^[\w\-]+$/.test(n)?t({storageKey:n}).then((function(e){e.data?o(new Error("该存储源别名已存在，请修改。")):o()})):o(new Error("只允许使用字母、数字、下划线、横杠")):o("请输入存储源别名")}}]},l=a(!1),s=a(!1)}}}));
