import{av as e,aw as a,H as s}from"./base-BBwbuMrY.js";/* empty css                */import{Z as r,a as o}from"./ZFormItem-DqyrjkCI.js";/* empty css               *//* empty css              */import{l as t,d}from"./admin-setting-DFIt9dmd.js";import{r as i,o as l,J as p,u as m,a as u,b as n,w as f,N as w,i as c}from"./index-B6LbRxzB.js";import{E as j}from"./request-B2kMKzxx.js";import{b as v}from"./route-block-B_A1xBdJ.js";import{r as x}from"./CheckBadgeIcon-Cn-PgIwF.js";import{E as V}from"./index-KUFYR68Z.js";import{v as b}from"./directive-c3Zp8yaa.js";import"./plugin-vue_export-helper-BCo6x5W8.js";import"./event-BwRzfsZt.js";const g=i({username:"",password:"",repassword:""}),_=i({username:[{required:!0,message:"请输入管理员账号"}],password:[{required:!0,message:"请输入密码"}],repassword:[{required:!0,validator:(e,a,s)=>{""===a?s(new Error("请再次输入密码")):a!==g.value.password?s(new Error("两次输入密码不一致!")):s()}}]}),y=i();const h={__name:"update-password",setup(v){const{passwordData:h,updateLoading:k,updatePassword:q,passwordDataRules:D}=(l((()=>{t().then((e=>{g.value.username=e.data.username}))})),{passwordData:g,updateLoading:y,updatePassword:e=>{e.value.validate((e=>{e&&(y.value=!0,d(g.value).then((()=>{j({message:"保存成功",type:"success"}),y.value=!1})))}))},passwordDataRules:_});let E=i();const P=()=>{q(E)};return(t,d)=>{const i=V,l=r,j=s,v=o,g=b;return p((u(),n(v,{model:m(h),rules:m(D),ref_key:"updatePasswordForm",ref:E},{"form-title":f((()=>[w(" 密码信息 ")])),"form-sub-title":f((()=>[w(" 此处可以修改您的管理员登录账号密码，请妥善保管 ")])),footer:f((()=>[c(j,{type:"primary",size:"default",icon:m(x),onClick:P},{default:f((()=>[w("保存设置")])),_:1},8,["icon"])])),default:f((()=>[c(l,{prop:"username",label:"管理员账号"},{default:f((()=>[c(i,{id:"username","prefix-icon":m(e),modelValue:m(h).username,"onUpdate:modelValue":d[0]||(d[0]=e=>m(h).username=e),modelModifiers:{trim:!0}},null,8,["prefix-icon","modelValue"])])),_:1}),c(l,{prop:"password",label:"新密码"},{default:f((()=>[c(i,{id:"password","prefix-icon":m(a),modelValue:m(h).password,"onUpdate:modelValue":d[1]||(d[1]=e=>m(h).password=e),modelModifiers:{trim:!0}},null,8,["prefix-icon","modelValue"])])),_:1}),c(l,{prop:"repassword",label:"重复新密码"},{default:f((()=>[c(i,{id:"repassword","prefix-icon":m(a),modelValue:m(h).repassword,"onUpdate:modelValue":d[2]||(d[2]=e=>m(h).repassword=e),modelModifiers:{trim:!0}},null,8,["prefix-icon","modelValue"])])),_:1})])),_:1},8,["model","rules"])),[[g,m(k)]])}}};"function"==typeof v&&v(h);export{h as default};
